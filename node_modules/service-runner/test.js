var conf = {
  "info": {
    "name": "aqs"
  },
  "templates": {
    "wmf-content-1.0.0": {
      "swagger": "2.0",
      "info": {
        "version": "1.0.0-beta",
        "title": "Wikimedia Analytics REST API",
        "description": "This API aims to provide straightforward and low-latency access to Wikimedia Analytics data. It is currently in beta testing, so things aren't completely locked down yet. Each entry point has explicit stability markers to inform you about development status and change policy, according to [our API version policy](https://www.mediawiki.org/wiki/API_versioning).\n### High-volume access\n  - As a general rule, don't perform more than 200 requests/s to\n    this API.\n  - Set a unique `User-Agent` header that allows us to contact you\n    quickly. Email addresses or URLs of contact pages work well.\n  - Consider using our [HTML\n    dumps](https://phabricator.wikimedia.org/T17017) once they\n    become available.\n",
        "termsOfService": "https://wikimediafoundation.org/wiki/Terms_of_Use",
        "contact": {
          "name": "the Wikimedia Analytics team",
          "url": "http://mediawiki.org/wiki/RESTBase"
        },
        "license": {
          "name": "Apache2",
          "url": "http://www.apache.org/licenses/LICENSE-2.0"
        }
      },
      "x-subspecs": [
        "analytics/v1/pageviews"
      ]
    },
    "wmf-sys-1.0.0": {
      "info": {
        "title": "Default MediaWiki sys API module",
        "version": "1.0.0"
      },
      "paths": {
        "/{module:table}": {
          "x-modules": [
            {
              "name": "restbase-mod-table-cassandra",
              "version": "1.0.0",
              "type": "npm",
              "options": {
                "conf": {
                  "hosts": [
                    "aqs1001.eqiad.wmnet",
                    "aqs1002.eqiad.wmnet",
                    "aqs1003.eqiad.wmnet"
                  ],
                  "keyspace": "system",
                  "localDc": "eqiad",
                  "datacenters": [
                    "eqiad"
                  ],
                  "username": "cassandra",
                  "password": "cassandra",
                  "defaultConsistency": "localQuorum",
                  "storage_groups": [
                    {
                      "name": "default.group.local",
                      "domains": "/./"
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "wp-default-1.0.0": {
      "x-subspecs": [
        {
          "paths": {
            "/{api:v1}": {
              "x-subspec": {
                "swagger": "2.0",
                "info": {
                  "version": "1.0.0-beta",
                  "title": "Wikimedia Analytics REST API",
                  "description": "This API aims to provide straightforward and low-latency access to Wikimedia Analytics data. It is currently in beta testing, so things aren't completely locked down yet. Each entry point has explicit stability markers to inform you about development status and change policy, according to [our API version policy](https://www.mediawiki.org/wiki/API_versioning).\n### High-volume access\n  - As a general rule, don't perform more than 200 requests/s to\n    this API.\n  - Set a unique `User-Agent` header that allows us to contact you\n    quickly. Email addresses or URLs of contact pages work well.\n  - Consider using our [HTML\n    dumps](https://phabricator.wikimedia.org/T17017) once they\n    become available.\n",
                  "termsOfService": "https://wikimediafoundation.org/wiki/Terms_of_Use",
                  "contact": {
                    "name": "the Wikimedia Analytics team",
                    "url": "http://mediawiki.org/wiki/RESTBase"
                  },
                  "license": {
                    "name": "Apache2",
                    "url": "http://www.apache.org/licenses/LICENSE-2.0"
                  }
                },
                "x-subspecs": [
                  "analytics/v1/pageviews"
                ]
              }
            }
          }
        },
        {
          "paths": {
            "/{api:sys}": {
              "x-subspec": {
                "info": {
                  "title": "Default MediaWiki sys API module",
                  "version": "1.0.0"
                },
                "paths": {
                  "/{module:table}": {
                    "x-modules": [
                      {
                        "name": "restbase-mod-table-cassandra",
                        "version": "1.0.0",
                        "type": "npm",
                        "options": {
                          "conf": {
                            "hosts": [
                              "aqs1001.eqiad.wmnet",
                              "aqs1002.eqiad.wmnet",
                              "aqs1003.eqiad.wmnet"
                            ],
                            "keyspace": "system",
                            "localDc": "eqiad",
                            "datacenters": [
                              "eqiad"
                            ],
                            "username": "cassandra",
                            "password": "cassandra",
                            "defaultConsistency": "localQuorum",
                            "storage_groups": [
                              {
                                "name": "default.group.local",
                                "domains": "/./"
                              }
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      ]
    }
  },
  "spec": {
    "title": "The Analytics RESTBase root",
    "paths": {
      "/{domain:analytics.wikimedia.org}": {
        "x-subspecs": [
          {
            "paths": {
              "/{api:v1}": {
                "x-subspec": {
                  "swagger": "2.0",
                  "info": {
                    "version": "1.0.0-beta",
                    "title": "Wikimedia Analytics REST API",
                    "description": "This API aims to provide straightforward and low-latency access to Wikimedia Analytics data. It is currently in beta testing, so things aren't completely locked down yet. Each entry point has explicit stability markers to inform you about development status and change policy, according to [our API version policy](https://www.mediawiki.org/wiki/API_versioning).\n### High-volume access\n  - As a general rule, don't perform more than 200 requests/s to\n    this API.\n  - Set a unique `User-Agent` header that allows us to contact you\n    quickly. Email addresses or URLs of contact pages work well.\n  - Consider using our [HTML\n    dumps](https://phabricator.wikimedia.org/T17017) once they\n    become available.\n",
                    "termsOfService": "https://wikimediafoundation.org/wiki/Terms_of_Use",
                    "contact": {
                      "name": "the Wikimedia Analytics team",
                      "url": "http://mediawiki.org/wiki/RESTBase"
                    },
                    "license": {
                      "name": "Apache2",
                      "url": "http://www.apache.org/licenses/LICENSE-2.0"
                    }
                  },
                  "x-subspecs": [
                    "analytics/v1/pageviews"
                  ]
                }
              }
            }
          },
          {
            "paths": {
              "/{api:sys}": {
                "x-subspec": {
                  "info": {
                    "title": "Default MediaWiki sys API module",
                    "version": "1.0.0"
                  },
                  "paths": {
                    "/{module:table}": {
                      "x-modules": [
                        {
                          "name": "restbase-mod-table-cassandra",
                          "version": "1.0.0",
                          "type": "npm",
                          "options": {
                            "conf": {
                              "hosts": [
                                "aqs1001.eqiad.wmnet",
                                "aqs1002.eqiad.wmnet",
                                "aqs1003.eqiad.wmnet"
                              ],
                              "keyspace": "system",
                              "localDc": "eqiad",
                              "datacenters": [
                                "eqiad"
                              ],
                              "username": "cassandra",
                              "password": "cassandra",
                              "defaultConsistency": "localQuorum",
                              "storage_groups": [
                                {
                                  "name": "default.group.local",
                                  "domains": "/./"
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        ]
      }
    }
  },
  "services": [
    {
      "name": "aqs",
      "module": "./restbase/lib/server",
      "conf": {
        "port": 7231,
        "spec": {
          "title": "The Analytics RESTBase root",
          "paths": {
            "/{domain:analytics.wikimedia.org}": {
              "x-subspecs": [
                {
                  "paths": {
                    "/{api:v1}": {
                      "x-subspec": {
                        "swagger": "2.0",
                        "info": {
                          "version": "1.0.0-beta",
                          "title": "Wikimedia Analytics REST API",
                          "description": "This API aims to provide straightforward and low-latency access to Wikimedia Analytics data. It is currently in beta testing, so things aren't completely locked down yet. Each entry point has explicit stability markers to inform you about development status and change policy, according to [our API version policy](https://www.mediawiki.org/wiki/API_versioning).\n### High-volume access\n  - As a general rule, don't perform more than 200 requests/s to\n    this API.\n  - Set a unique `User-Agent` header that allows us to contact you\n    quickly. Email addresses or URLs of contact pages work well.\n  - Consider using our [HTML\n    dumps](https://phabricator.wikimedia.org/T17017) once they\n    become available.\n",
                          "termsOfService": "https://wikimediafoundation.org/wiki/Terms_of_Use",
                          "contact": {
                            "name": "the Wikimedia Analytics team",
                            "url": "http://mediawiki.org/wiki/RESTBase"
                          },
                          "license": {
                            "name": "Apache2",
                            "url": "http://www.apache.org/licenses/LICENSE-2.0"
                          }
                        },
                        "x-subspecs": [
                          "analytics/v1/pageviews"
                        ]
                      }
                    }
                  }
                },
                {
                  "paths": {
                    "/{api:sys}": {
                      "x-subspec": {
                        "info": {
                          "title": "Default MediaWiki sys API module",
                          "version": "1.0.0"
                        },
                        "paths": {
                          "/{module:table}": {
                            "x-modules": [
                              {
                                "name": "restbase-mod-table-cassandra",
                                "version": "1.0.0",
                                "type": "npm",
                                "options": {
                                  "conf": {
                                    "hosts": [
                                      "aqs1001.eqiad.wmnet",
                                      "aqs1002.eqiad.wmnet",
                                      "aqs1003.eqiad.wmnet"
                                    ],
                                    "keyspace": "system",
                                    "localDc": "eqiad",
                                    "datacenters": [
                                      "eqiad"
                                    ],
                                    "username": "cassandra",
                                    "password": "cassandra",
                                    "defaultConsistency": "localQuorum",
                                    "storage_groups": [
                                      {
                                        "name": "default.group.local",
                                        "domains": "/./"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        },
        "salt": "HQrFGO6SZL8zdLw0F5M31VngrEYG9KoTKnVEdHwJ",
        "default_page_size": 250
      }
    }
  ],
  "worker_heap_limit_mb": 300,
  "logging": {
    "name": "aqs",
    "level": "warn",
    "streams": [
      {
        "path": "/tmp/debug.log",
        "level": "warn"
      }
    ]
  },
  "metrics": {
    "name": "aqs",
    "type": "statsd",
    "host": "statsd.eqiad.wmnet",
    "port": 8125
  },
  "num_workers": 24,
  "worker_heartbeat_timeout": 7500,
  "package": {
    "name": "aqs"
  },
  "serviceName": "aqs"
};
var conf = {foo: undefined}
var yaml = require('js-yaml');
console.log(yaml.load(yaml.dump(conf)));
